---
layout: default
---

		<article id="config">
				<h1>Configuration File Anatomy <small>Getting up close and personal
					with config.yaml</small></h1>
				<h2 id="config-yaml">What is this YAML extension? <small>This isn't an ini file?</small></h2>
				<p>YAML (rhymes with camel) is a human-readable data
				serialization format that takes concepts from programming
				languages and ideas from XML and the data format of electronic
				mail (RFC 2822). It's designed to be easier to read than other
				configuration file formats, and simpler for the programmer to
				deal with more complex data formats than can easily be added to
				ini files.</p>
				<p>The only downside is that YAML is highly dependant on
				getting the spacing right.</p>
				<h2 id="config-tour">Got it! Take me through an example
				<small>Tour</small></h2>
				<p>The xi4n config is reasonably simple and has 3 main sections.
				Below is a very basic configuration that:</p>
				<ul>
					<li>Requires xi4n >= 0.1.0</li>
					<li>Has the state and livemap2 plugins setup to be used</li>
					<li>Has 2 connections; 1 insim and 1 LFSW relay</li>
					<li>Each connection has different logging setup</li>
					<li>Both connections share the same livemap2 plugin instance</li>
				</ul>
				<p><a href="javascript:void(0);"
				onclick="javascript:introJs().start();">Click here to take the
				tour, step by step</a>.</p>
				<noscript>
					<div class="alert">Requires javascript, sorry, but this is the best way I could
					figure out how to do this :(</div>
				</noscript>
<pre data-type="yaml"><code><span class="config-step" data-step="1" data-intro="Different versions
of xi4n maybe incompatible. We use this to say we only support versions >=
0.1.0." data-position="top">xi4n: ">=0.1.0"</span>
<span class="config-step" data-step="2" data-intro="Here we're setting up
plugins. Each plugin has it's own section. In this example we're just setting up
the state plugin." data-position="top">plugins: </span>
<span class="config-step" data-step="3" data-intro="This section contains the
setup for the state plugin. The alias is arbritary and allows you to have
multiple versions of the same plugin, with different options. The path is the
name of the plugin. The options are a list of options. In this example, there
are none." data-position="top">    - alias: state
      path: state
      options:</span>
<span class="config-step" data-step="4" data-intro="This section contains the
setup for the livemap plugin. Here we set the alias to 'mymap', and an option
called 'http-port' to 8080." data-position="top">    - alias: mymap
      path: livemap2
      options:
        http-port: 8080</span>
<span class="config-step" data-step="5" data-intro="This is arguably the most
important section. Here we setup the connections to various LFS instances. In
this example there are 2 connections, an InSim and a relay."
data-position="top">connections:
<span class="config-step" data-step="6" data-intro="This is the start of the
first connection. We're telling xi4n that this
connection is an InSim connection. xi4n can talk insim, outgauge, relay and
outsim." data-position="top">    - talk: insim</span>
<span class="config-step" data-step="7" data-intro="These are the settings for
insim. Only
insim uses these connection details. Connections talking relay, outgauge and
outsim look for different values. See the second connection below for a relay
example." data-position="top">      insim:
        over: tcp
        host: localhost
        port: 29999</span>
<span class="config-step" data-step="8" data-intro="And to use these plugins.
These are a list of each alias'ed plugin. The aliases must match to one from the
above plugin section!" data-position="top">      use:
        - state
        - mymap</span>
<span class="config-step" data-step="9" data-intro="Finally, the logging
section. You can output the log to multiple files, at multiple levels. 
The type can be console, or file. All other options are passed to the
logging engine winston. Each connection gets it's own logging engine, thus you
can have logs going to as many destinations as you wish. Ideally you'll want 1
log per connection in a production environment." data-position="top">      log:
        - level: error
          type: console
        - level: info
          type: file
          filename: error.log</span>
<span class="config-step" data-step="10" data-intro="Here's an example secondary
connection that talks to the LFSW relay. It connects to cargame.nl S2, with no admin password, uses the
same livemap plugin instance, and outputs debugging information to the console" data-position="top">    - talk: relay
      relay:
        host: cargame.nl S2
      use:
        - state
        - mymap
      log:
        - level: debug
          type: console</span></span></code></pre>

				<h2 id="config-reference">Reference</h2>
                <p><strong>TODO</strong></p>
			</article>

